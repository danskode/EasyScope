<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>New Client</title>
    <style>
        /* Hide the textarea by default */
        .hidden {
            display: none;
        }
    </style>
    <link rel="stylesheet" href="/stylesCreateUpdate.css">
</head>
<body>

<header>
    <a href="/projects/list" class="back-link">Back to Projects</a>
    <h1>EasyScope - time2track ...</h1>
    <a href="/logout" class="logout-btn">Logout</a>
</header>

<h1>Add a new client to the system!</h1>

<form action="/projects/create" method="POST">
    <!-- Client Name Input -->
    <div>
        <label for="projectName">Client Name:</label>
        <input type="text" id="projectName" name="projectName" required maxlength="25">
    </div>

    <!-- Radio Buttons -->
    <label>
        <input type="radio" name="option" value="ai" onclick="toggleTextArea(false)">
        Let AI generate a text
    </label>

    <label>
        <input type="radio" name="option" value="manual" onclick="toggleTextArea(true)">
        Write text yourself
    </label>

    <!-- Textarea for Manual Input -->
    <div id="manual" class="hidden">
        <label for="manual-text">Write Your Own Text:</label>
        <textarea id="manual-text" name="manualProjectDescription"></textarea>
    </div>

    <!-- Button -->
    <div>
        <button type="submit">Create Project</button>
        <a href="/">
            <button type="button">Back to Account</button>
        </a>
    </div>
</form>

<script>
    /**
     * Toggles the visibility of the manual text input based on the selected option.
     * @param {boolean} showManual - Whether to show the manual text input.
     */
    function toggleTextArea(showManual) {
        const manualDiv = document.getElementById('manual');
        const manualTextarea = document.getElementById('manual-text');

        if (showManual) {
            // Show the manual input
            manualDiv.classList.remove('hidden');
            manualTextarea.setAttribute('required', 'true');
        } else {
            // Hide the manual input
            manualDiv.classList.add('hidden');
            manualTextarea.removeAttribute('required');
        }
    }
</script>

<footer>
    <p>EasyScope – Project Calculation Tool – Contact</p>
    <p><span th:text="${#dates.format(#dates.createNow(), 'dd/MM/yyyy')}"></span></p>
</footer>

</body>
</html>