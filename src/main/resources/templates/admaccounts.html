<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Accounts - Admin</title>

  <!-- Link to the external CSS file -->
  <link rel="stylesheet" href="/style.css">

</head>

<body>

<h1>Edit all other non-admin accounts from here</h1>

<div th:if="${accountType == 'ADMIN'}">
  <form action="#" th:action="@{/adm/accounts/list/edit}" method="post" class="form-container">

    <!-- Loop through the 'otherAccounts' list -->
    <div th:each="account : ${otherAccounts}" class="form-row">

      <div class="form-group">
        <label for="accountID">Account ID</label>
        <input type="text" id="accountID" name="accountID" th:value="${account.accountID}" disabled />
      </div>

      <div class="form-group">
        <label for="accountName">Account Name</label>
        <input type="text" id="accountName" name="accountName" th:value="${account.accountName}" disabled />
      </div>

      <div class="form-group">
        <label for="accountType">Account Type</label>
        <select th:name="'newAccountType_' + ${account.accountID}" required>
          <option th:each="type : ${accountTypes}"
                  th:value="${type}"
                  th:text="${type.getAccountTypeName()}"
                  th:selected="${type == account.accountType}">
          </option>
        </select>
      </div>

      <div class="form-group">
        <!-- Edit button -->
        <button type="submit" name="accountId" th:value="${account.accountID}">Save</button>
      </div>

      <div class="form-group">
        <!-- Delete button (Optional for now) -->
        <button type="button">Delete</button>
      </div>

      <hr />
    </div>

  </form>
</div>

<div>
  <form action="#" th:action="@{/adm/accounts/add}" method="post" class="form-container">

    <div class="form-row">

      <div class="form-group">
        <label for="accountName">Add account name</label>
        <input type="text" id="accountName" name="accountName" value="Account name" />
      </div>

      <div class="form-group">
        <label for="accountPassword">Add account password</label>
        <input type="password" id="accountPassword" name="accountPassword" value="Account password" />
      </div>

      <div class="form-group">
        <label for="retypeAccountPassword">Retype account password</label>
        <input type="password" id="retypeAccountPassword" name="retypeAccountPassword" value="password again" />
      </div>

      <div class="form-group">
        <label for="accountType">Add account type</label>
        <input type="text" id="accountType" name="accountType" value="Account type" />
      </div>

      <div class="form-group">
        <button type="submit" name="test">Save new account</button>
      </div>

    </div>

  </form>
</div>

</body>

</html>